# 统一响应码

## 背景

为什么要统一接口的响应码？方便快速识别、定位交易异常原因。

## 统一响应码

在统一报文中定义了固定字段，表明交易状态和信息，见如下报文。`code `响应码为字符串形式返回，并附带`mesg`响应解释信息，方便开发者或用户快速识别交易异常原因。

```json
{
	"code":"000000",
	"mesg":"处理成功",
	"time":"2022-11-22 14:46:58.826",
	"data":"Hello:zhangsan"
}
```


### 系统通用响应码

| 响应码   |    默认解释  | http状态码 | 备注               |
|---------|------------|-----------|-----------------------|
| -1      |  系统异常    | 500 | 发生不可预测异常 |
| 000000  |  交易成功    | 200 | 正常处理请求 |
| 000001  |  系统繁忙，请稍候再试 | 429 | 限流等情况出现 |
| 010404  |  服务未找到  | 503 | 网关组件专有|
| 010500  |  网关异常    | 502 | 网关组件专有|
| 010002  |  网关超时    | 504 | 网关组件专有|
| 020000  |  请求参数校验不通过  | 200 | 进行Form表单校验，不符合校验规则时返回 |
| 020001  |  无效token  |  401   | 校验token无效 |
| 020010  |  上传文件大小超过限制 | 200 | 上传文件大小超过限制时返回 |
| 030000  |  唯一键冲突  | 200 |当DB操作时，发生唯一键冲突时返回 |

### 业务应用响应码

业务应用响应码由业务系统自定义，不要与系统通用响应码冲突，建议从100000开始。例如：

| 响应码   |    默认解释      | 备注               |
|---------|----------------|--------------------|
| 100001  |  账户余额不足    |                    |
| 100002  |  账户余额已冻结  |                    |

